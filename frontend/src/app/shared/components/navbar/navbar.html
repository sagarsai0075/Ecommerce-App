<nav class="nav">

  <!-- LOGO -->
<a routerLink="/products" class="logo">
  <img src="assets/icon.ico" alt="ShopEazy" class="logo-img">
  <span>ShopEazy</span>
</a>


  <!-- SEARCH -->
  <form class="search" (ngSubmit)="search()">
    <i class="bi bi-search search-icon"></i>

    <input
      type="text"
      placeholder="Search products..."
      [(ngModel)]="searchText"
      name="search"
    />
  </form>

  <!-- AFTER LOGIN -->
  <div *ngIf="authService.isLoggedIn()" class="menu">

    <!-- CART -->
    <a routerLink="/cart">
      <i class="bi bi-cart3"></i>
      Cart
    </a>

    <!-- USER DROPDOWN -->
    <div
      class="user-dropdown"
      (click)="toggleDropdown($event)"
    >

      <span class="user-name">
        <i class="bi bi-person-circle"></i>
        {{ userName }}
      </span>

      <!-- DROPDOWN MENU -->
      <div
        class="dropdown-menu"
        *ngIf="showDropdown"
        (click)="$event.stopPropagation()"
      >

        <a routerLink="/profile">
          <i class="bi bi-person"></i>
          My Profile
        </a>

        <a routerLink="/orders">
          <i class="bi bi-bag"></i>
          Orders
        </a>

        <a routerLink="/coupons">
          <i class="bi bi-ticket"></i>
          Coupons
        </a>

        <hr />

        <button (click)="logout()">
          <i class="bi bi-box-arrow-right"></i>
          Logout
        </button>

      </div>

    </div>

  </div>

</nav>
